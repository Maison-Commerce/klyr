

{%- doc -%}
  This block is used to display the add to cart button.
  Intended for product-form.liquid block.

  @param {string} can_add_to_cart - Whether the product can be added to the cart
  @param {object} product_resource - The product object 
{%- enddoc -%}

{% liquid
  assign id = 'BuyButtons-ProductSubmitButton-' | append: block.id 
%}

<custom-add-to-cart
  class="custom-add-to-cart product__block product__block-custom-add-to-cart"
  {{ block.shopify_attributes }}
>
   {% render 'custom-add-to-cart-button',
    id: id,
    can_add_to_cart: can_add_to_cart,
    product_resource: product_resource,
    add_to_cart_text: block.settings.text,
    block: block
  %}
</custom-add-to-cart>

{% schema %}
  {
    "name": "Custom Add to Cart",
    "tag": null,
    "settings": [
      {
        "type": "text",
        "id": "text",
        "label": "ATC Button Text",
        "default": "Add to your cart"
      },
      {
        "type": "header",
        "content": "Select Upsell Product"
      },
      {
        "type": "product",
        "id": "upsell_product",
        "label": "Upsell Product"
      },
      {
        "type": "checkbox",
        "id": "enable_upsell",
        "label": "Enable Upsell",
        "default": true
      }
    ],
    "presets": [
      {
        "name": "Custom Add to Cart"
      }
    ]
  }
{% endschema %}
