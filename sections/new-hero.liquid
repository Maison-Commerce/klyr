{% assign ss = section.settings %}
{% assign media_width_desktop = '100vw' %}
{% assign media_width_mobile = '100vw' %}
{% assign sizes = '(min-width: 750px) ' | append: media_width_desktop | append: ', ' | append: media_width_mobile %}
{% assign widths = '832, 1200, 1600, 1920, 2560, 3840' %}
{% if ss.hero_image %}
  {% capture hero_image %}
    {{
      ss.hero_image
      | image_url: width: 3840
      | image_tag:
        width: ss.hero_image.width,
        widths: widths,
        height: ss.hero_image.height,
        alt: ss.hero_image.alt,
        sizes: sizes,
        fetchpriority: 'high'
    }}
  {% endcapture %}
{% endif %}

<style>
  .hero-{{ section.id }} {
    position: relative;
  }
  .hero-{{ section.id }} .home-header-media-wrapper {
    background-color: var(--primaryColor, #000);
  }
</style>

<div class="hero-{{ section.id }} header-hero-wrap">
  <div class="home-header-media-wrapper">
    {% if ss.hero_image != blank %}
      {{ hero_image }}
    {% endif %}
  </div>
  <div class="header-hero-content">
    <div class="container-max h-100">
      <div class="inner-content h-100">
        <h2 class="mt-auto">{{ ss.hero_title }}</h2>
        <p class="mt-auto">{{ ss.hero_subtitle }}</p>
      </div>			
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "New Hero",
    "class": "hero-section",
    "tag": "section",
    "disabled_on": {
      "groups": ["header"]
    },
    "settings": [
      {
        "type": "textarea",
        "id": "hero_title",
        "label": "Hero Title",
        "default": "BUILT WITH <br> PURPOSE"
      },
      {
        "type": "textarea",
        "id": "hero_subtitle",
        "label": "Hero Subtitle",
        "default": "Made with only the best materials we try to elevate the best yet <br> unseen captive of this moment with."
      },
      {
        "type": "image_picker",
        "id": "hero_image",
        "label": "Hero Image"
      }
    ],
    "presets": [
      {
        "name": "New Hero Section",
        "category": "Custom"
      }
    ]
  }
{% endschema %}
